<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>级联</title>
    <script>
        var grade = [{
            id: 1001,
            name: '一年级'
        }, {
            id: 1002,
            name: '二年级'
        }, {
            id: 1003,
            name: '三年级'
        }, ];

        var clazzes = [{
            id: 101,
            name: '一年级一班',
            gradeId: 1001
        }, {
            id: 102,
            name: '一年级二班',
            gradeId: 1001
        }, {
            id: 103,
            name: '一年级三班',
            gradeId: 1001
        }, {
            id: 201,
            name: '二年级一班',
            gradeId: 1002
        }, {
            id: 202,
            name: '二年级二班',
            gradeId: 1002
        }, {
            id: 203,
            name: '二年级三班',
            gradeId: 1002
        }, {
            id: 301,
            name: '三年级一班',
            gradeId: 1003
        }, {
            id: 302,
            name: '三年级二班',
            gradeId: 1003
        }, ];
        window.onload = function () {
            var gradeSelect = document.getElementById('grade');
            var clazzSelect = document.getElementById('calzz');
            // 将所有的年级展示到gradeSelect
            grade.forEach(function (item) {
                var newOption = document.createElement('option');
                newOption.innerText = item.name;
                newOption.value = item.id;
                gradeSelect.appendChild(newOption)
            });
            gradeSelect.onchange = function () {
                // console.log(this.value)
                if (this.value) {
                    var that = this;
                    // 过滤对应的班级 添加信息到clazzSelect
                    var clazzesRes = clazzes.filter(function (item) {
                        return item.gradeId == that.value;

                    })
                    console.log(clazzesRes)
                    // 追加节点到clazzSelect
                    var str = '<option value="">请选择</option>';
                    var clazzesRes = clazzes.forEach(function (item) {
                        str += '<option value="' + item.id + '" >' + item.name + '</option>';
                    });
                    clazzSelect.innerHTML = str;
                    // 去掉班级禁用
                    clazzSelect.disabled = false;
                } else {
                    clazzSelect.innerHTML = '<option value="">请选择</option>';
                    clazzSelect.disabled = true;
                }
            }
        }
    </script>
</head>

<body>
    <select name="" id="grade">
        <option value="">请选择</option>
    </select>
    <select name="" id="clazz" disabled>
        <option value="">请选择</option>
    </select>
</body>

</html>